\section{Discussion} \label{sec:discussion }

Continuing this work, for its application to the ADF would require substantial updates to the W3C PROV tools that are currently available, no matter which of the two solutions is chosen. However, considering that the Bundles+ solution uses W3C PROV concepts, and merely applies them to Bundles, as opposed to adding new concepts and structures to namespaces, we consider the Bundles+ option to be more elegant. To this end, we identify the modifications to W3C PROV support code in order to be fully integrated.

\subsection{Data Environment Representation Document Generation}
Currently, to generate a PROV based data environment representation document by using the python library, the  prov module is imported \textit{(e.g. import prov.model as prov)} in the source code. After that, the PROV document instance \textit{(e.g. ProvDocument())} is created. This instance provides the methods for creating a PROV document. For example, the  \textit{add\_namespace()} method is used to assigns a prefix and URI to the PROV document and elements;  entity(), activity(), and agent() methods are used to create the entity, activity, and agent respectively.  The \textit{ProvDocument()} instance also initializes the bundle class instance. Subsequently, the bundle instance provides the methods to add the entity, activity, etc within bundles. We need to add a new method in the \textit{ProvDocument} class that provides the instance of the \textit{ extended bundle} class. The  \textit{bundle class} class instance should contain the method for entity, activity, agent and linking properties as well as recursive method for the \textit{bundlePlus}. For example, \textit{bundlePlus.entity(), bundlePlus.activity(), bundlePlus.agent(), bundlePlus.bundle()}. We also need a new method to attach attributes to the data environment. At the last the method \textit{get\_provn()}  of \textit{ProvDocument()}  class that generate provenance document representation in  should be updated accordingly. 

\subsection{Validation of Data Environment Representation}
Currently, the source code for PROV validation is not openly available. However, the source codes for the SEIS-PROVâ€™s\footnote{SEIS-PROV is a domain specific extension based on the W3C PROV data model, used in the seismological data processing. This extension defines a new namespace with entities, activities and attributes in the context of seismology.}   document validation is openly available at \cite{SEISPROV}. The SEIS-PROV validation mechanism is implemented in python. Using this validation tool as an exemplar, to validate the representation that includes the data environments in data environments, the prov document should include a formalism for data environments:
\begin{math}
[d_i=I_i \cup d_1,....,[d_n=I_n \cup  d_{n-1}] 
\end{math}
where  n is number of data environments and prov elements instances, I is the top level prov element instance and d is the data environment instance.The value of i will be between 0 and n. 

The PROV validation mechanism has two parts: inference and constraints. The inferencing  deals with the fixing of missing information based on the definition of the element defined in the PROV data model. The constraint component includes the checking mechanism that deals with uniqueness, ordering, impossibility and typing. Impossibility checks prohibited patterns, while typing constraints check the type of identifier when it is used in relations.    
Inferencing should be performed over the document, and the elements should be categorised as per the definition. 
For example, similar entities in two different data environments might be categorised according to the prefixes of definition or prefixes over the data environment.
     
\subsection{Translation and Visualisation} 
In order to share the data environment representation with other stakeholders it might be possible that they needs the transformation of representation from PROV-N to other formats (e.g. json, provx, turtle, trig, svg, rdf, xml) and vice versa. %Therefore, for the addition of \textit{dataEnvironment} as a first class citizen and extension in PROV bundles, the existing translation and visualisation mechanism will also needs substantial changes.
Therefore, due to the extension in PROV bundles, the existing translation and visualisation mechanism will also needs substantial changes.
%uncomplete 
Our goal is to incorporate the support for data envrinemnt representation in PROV python implementation. The PROV python implementation provides a PROV serialisation module \cite{provpythonpkg} that provides various classes to transform PROV document from one format to another format. For example, \textit{ProvJSONSerializer, ProvRDFSerializer, ProvNSerializer, ProvXMLSerializer} provides the implementation to translate PROV in JSON, RDF, prov notation and XML formats respectively. All of these serialisation classes needs substantial changes  

For graphical visualisation of provenance statements, PROV python implementation is using three open source libraries pydot \cite{pydot2021}, Graphviz \cite{ellson2001graphviz}, and DOT language \cite{gansner2006drawing} in \textit{prov.dot} module. Moreover, the \textit{prov.dot} module also needs substantial changes in \textit{prov\_to\_dot()},  \textit{ \_bundle\_to\_dot()},      \textit{\_attach\_attribute \_annotation()},  etc
methods that translate the  provenance statements into visualization graphs. 
These methods needs considerable updations along with additional methods  to support the graphical visualization of  data situation among the data environments. 